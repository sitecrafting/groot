{#
  ACCORDION
  * less/elements/layouts/pattern-accordion.less
  * js/src/jquery.accordion.js
#}
<section class="pattern pattern--accordion">
    <div class="container container--md">

        {% if layout.section_headline %}
            <h2 class="pattern__headline">{{ layout.section_headline }}</h2>
        {% endif %}
    
        <dl class="accordion">
        {% for panel in layout.accordion_panels %}
            {% set panelId = fn('sanitize_title', panel.panel_headline) %}

            <dt data-id="{{ panelId }}">
                <h3 class="accordion__title">
                    <a href="#{{ panelId }}" id="accordion_panel_title_{{ parent_loop.index ~'_'~ loop.index }}" aria-controls="accordion_panel_{{ parent_loop.index ~'_'~ loop.index }}" aria-expanded="false" >
                    {{ panel.panel_headline }}
                    </a>
                </h3>
            </dt>
            <dd class="accordion__content rtecontent" id="accordion_panel_{{ parent_loop.index ~'_'~ loop.index }}" aria-labeledby="accordion_panel_title_{{ parent_loop.index ~'_'~ loop.index }}">{{ panel.panel_content }}</dd>

        {% endfor %}
        </dl>

    </div>
</section>
